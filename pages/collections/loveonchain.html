<!DOCTYPE html>
<html lang="en">
<head>
  <title>LoveOnChain</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>

  <div class="header">
  <h1>Skipper NFTs</h1>
  <p style="margin-top: 10px">An Emerging Collection of Digital Art and Merchandise</p>
</div>

  <div class="navbar">
          <a href="/index.html">Home</a>
          
          <div class="dropdown">
          <button class="dropbtn">Collections</button>
            <div class="dropdown-content">
              <a href="/pages/collections/loveonchain.html">LoveOnChain</a>
            </div></div>
          <a href="/pages/merchandise.html">Merchandise</a>
          <a href="/pages/about.html">About</a>
          <a href="/pages/contact.html">Contact</a>
          </div>
  
<div class="title" style="opacity:0.5;"><h2>LoveOnChain</h2></div>
<article>
  
  <article id="LoveOnChainNFT"><canvas id='canvas1'></canvas></article>

  <article style="color: grey">
  <p>Created for Valentine's day 2022, this work is a love letter<br> 
    to the CNFT space in general, and on chain art in particular.<br>
    It explores the nature of on chain art by using binary code, <br> 
    which consists of zeros and ones, as particles to draw a series<br> 
    of shapes that concludes in a heart. This drawing process is <br>
    repeated until the viewer clicks the image. This intervention <br> 
    reloads the work, clears the canvas, and restarts the drawing.<br>
    *<br>
    <p style="font-size: 15px;">This work is inspired by WhatLiesWithin, created by @uber_boring_man<br>
    and @EgonFX, as well as @TheRefreshCNFT by @_ThisCr8zyLife_</p>
</p>
<br>


<p>Policy id (with 5% royalties):</p><p style="font-size: 15px;">af5a467248334486d761e5e71651fc55bcf9e70e0c01ff6a153b5393</p></p><br>

<p>Limited series of 100 hearts</p><br>

<p>To purchase a NFT send 15ada, or a multiple up to 5, to this address:<br> 


<textarea readonly rows="2" cols="60">addr1vy29ck6hx5gx4sz0j00uar76e5am0p3c8q8ukzvxye05wtss8y49u</textarea>

  <br>
  <p style="font-size:15px">1 CNFT = 15ada, 3 CNFTs = 45ada, 5 CNFTs = 75ada</p>
  <br>
  Do not send from an exchange, the NFT will be lost and no refund will be made<br>
Alternatively, you can pay using the button below</p>
  
<img src="https://pro.nft-maker.io/images/buttons/paybutton_1_1.svg" onclick="javascript:openPaymentWindow()">
</article>


  
<script type="text/javascript">
            function openPaymentWindow() {
                const paymentUrl = "https://payment.nft-maker.io/?p=d2e48fc2edc344ed914021ceef9f8376&c=1";

                // Specify the popup width and height
                const popupWidth = 500;
                const popupHeight = 700;

                // Calculate the center of the screen
                const left = window.top.outerWidth / 2 + window.top.screenX - ( popupWidth / 2);
                const top = window.top.outerHeight / 2 + window.top.screenY - ( popupHeight / 2);

                const popup =  window.open(paymentUrl, "NFT-MAKER PRO Payment Gateway",  `popup=1, location=1, width=${popupWidth}, height=${popupHeight}, left=${left}, top=${top}`);

                // Continuously check whether the popup has been closed
                const backgroundCheck = setInterval(function () {
                    if(popup.closed) {
                        clearInterval(backgroundCheck);

                        console.log("Popup closed");

                    }
                }, 1000);
            }
</script>


<script>

//Get Random Colour function
function getRandomColor() {
            var letters = '0123456789ABCDEF';
            var color = '#';
            for (var i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
              }
              return color;
            };

//Random Integer function
function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);
          };
//Set up canvas 

  const canvas = document.getElementById('canvas1');
  const ctx = canvas.getContext('2d');
  canvas.width = 550;
  canvas.height = 550;
  canvas.style.width = '50vw';
  canvas.style.height = '50vh';
  canvas.style.transform = "rotate(270deg)";         // or -90 depending on need
  canvas.style.webkitTransform = "rotate(270deg)";
  ctx.fillStyle='black';
  ctx.fillRect(0, 0, canvas.width, canvas.height/2);
  document.body.style.backgroundColor = 'black';

  console.log(canvas.height)

//Create Symbols and apply Effect

  class Symbol {
    constructor(x, y, fontSize, canvasHeight){
      this.characters = '01';
      this.x = x;
      this.y = y;
      this.fontSize = fontSize;
      this.text = '';
      this.canvasHeight = canvasHeight;

    }
    draw(context){
      this.text = this.characters.charAt(Math.floor(Math.random()*this.characters.length));
      context.fillText(this.text, this.x * this.fontSize, this.y * this.fontSize);
      if (this.y * this.fontSize > this.canvasHeight && Math.random() > 0.1){
        this.y = 0;
      } else {
        this.y += 1;
      }

    }
  }

  class Effect {
    constructor(canvasWidth, canvasHeight){
      this.canvasWidth = canvasWidth;
      this.canvasHeight = canvasHeight;
      this.fontSize = 1;
      this.columns = this.canvasWidth/this.fontSize;
      this.symbols = [];
      this.initialize();

    }
    initialize(){
      for (let i = 0; i < this.columns; i++){
        this.symbols[i] = new Symbol(i, 0, this.fontSize, this.canvasHeight); 
      }
    }
    resize(width, height){
      this.canvasWidth = width;
      this.canvasHeight = height;
      this.columns = this.canvasWidth/this.fontSize;
      this.symbols = [];
      this.initialize();

    }
  }

const effect = new Effect(canvas.width, canvas.height);
let lastTime = 0;
const fps = 60;
const nextFrame = 2500/fps;
let timer = 0;


var colour_array = new Array (
  'darkRed',
  'red',
  'mediumVioletRed'
  )

//Animate Binary

function animate(timeStamp){
  const deltaTime = timeStamp - lastTime;
  lastTime = timeStamp;


  if (timer > nextFrame){
  ctx.fillStyle = 'rgba(0, 0, 0, 0.005)';
  ctx.textAlign = 'center';
  ctx.fillRect(0, 0, canvas.width/2, canvas.height/2);
  ctx.fillStyle = colour_array[getRandomInt(0,2)];
  ctx.font = effect.fontSize + 'px monospace';
  effect.symbols.forEach(symbol => symbol.draw(ctx));
  effect.symbols.forEach(symbol => symbol.draw(ctx));
  
  ctx.translate(canvas.width/2, canvas.height/2);
  ctx.rotate(Math.PI / 35);
  ctx.rotate(Math.PI / 130);
  ctx.translate(-canvas.width/2, -canvas.height/2);

  timer = 0;  
  } else {
    timer += deltaTime;
  }
  requestAnimationFrame(animate);
}

animate(0);


//Event Listener for Resize
window.addEventListener('resize', function(){
      canvas.width = 550;
      canvas.height = 550;
      effect.resize(canvas.width, canvas.height);
})

//Event Listener for Resize
window.addEventListener('resize', function(){
      canvas.width = 550;
      canvas.height = 550;
      effect.resize(canvas.width, canvas.height);
})

//Event Listener for Click
      LoveOnChainNFT.addEventListener(
        "click",
        function (event) {

          if (!event.target.matches('.LoveOnChainNFT')) {

        location.reload();
          }

        },
        false
      );


</script>
  
</body>
  
</html>
  
